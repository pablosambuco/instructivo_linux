<h1 id="instructivo-linux">Instructivo Linux</h1>
<p>Este documento contiene una guía básica de comandos útiles para
trabajar con Linux, organizada por temas y con ejemplos prácticos.</p>
<hr />
<h2 id="índice">Índice</h2>
<ul>
<li><a href="#listar-archivos-y-directorios">Listar archivos y
directorios</a></li>
<li><a href="#gestión-de-archivos-y-directorios">Gestión de archivos y
directorios</a></li>
<li><a href="#crear-y-eliminar-directorios">Crear y eliminar
directorios</a></li>
<li><a href="#eliminar-archivos">Eliminar archivos</a></li>
<li><a href="#cambiar-de-directorio">Cambiar de directorio</a></li>
<li><a href="#permisos-de-archivos-y-directorios">Permisos de archivos y
directorios</a></li>
<li><a href="#cambiar-permisos-y-propietarios">Cambiar permisos y
propietarios</a></li>
<li><a href="#ejecutar-programas">Ejecutar programas</a></li>
<li><a href="#redirección-de-entradas-y-salidas">Redirección de entradas
y salidas</a></li>
<li><a href="#procesos-y-señales">Procesos y señales</a></li>
<li><a href="#buscar-texto-dentro-de-archivos">Buscar texto dentro de
archivos</a></li>
<li><a href="#recortar-archivos-o-líneas">Recortar archivos o
líneas</a></li>
<li><a href="#guardar-salida-de-comandos-en-variables">Guardar salida de
comandos en variables</a></li>
<li><a href="#información-del-sistema">Información del sistema</a></li>
<li><a href="#otros-útiles">Otros útiles</a></li>
</ul>
<hr />
<h2 id="listar-archivos-y-directorios">Listar archivos y
directorios</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span></span></code></pre></div>
<p>Parámetros: - <code>-l</code>: listado amplio (muestra permisos) -
<code>-a</code>: muestra todos los archivos (incluyendo ocultos) -
<code>-t</code>: ordena cronológicamente - <code>-r</code>: invierte el
orden - <code>-R</code>: listado recursivo</p>
<p>Ejemplos:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-ltr</span></span></code></pre></div>
<p>Alias comunes: - <code>l</code> → <code>ls</code> - <code>ll</code> →
<code>ls -l</code> - <code>la</code> → <code>ls -a</code></p>
<hr />
<h2 id="gestión-de-archivos-y-directorios">Gestión de archivos y
directorios</h2>
<h3 id="copiar-archivos-y-carpetas">Copiar archivos y carpetas</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> archivo1.txt copia.txt</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-r</span> carpeta1 carpeta2</span></code></pre></div>
<h3 id="mover-o-renombrar-archivos">Mover o renombrar archivos</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> archivo.txt /otro/directorio/</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> viejo.txt nuevo.txt</span></code></pre></div>
<h3 id="buscar-archivos">Buscar archivos</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> /ruta <span class="at">-name</span> <span class="st">&quot;*.log&quot;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-size</span> +100M</span></code></pre></div>
<hr />
<h2 id="crear-y-eliminar-directorios">Crear y eliminar directorios</h2>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> nuevo_directorio</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rmdir</span> directorio_vacío</span></code></pre></div>
<hr />
<h2 id="eliminar-archivos">Eliminar archivos</h2>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> archivo.txt</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> carpeta</span></code></pre></div>
<p>Parámetros: - <code>-f</code>: fuerza la eliminación sin pedir
confirmación - <code>-r</code>: recursivo</p>
<hr />
<h2 id="cambiar-de-directorio">Cambiar de directorio</h2>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ruta/al/directorio</span></code></pre></div>
<p>Directorios especiales: - <code>.</code>: actual - <code>..</code>:
superior - <code>~</code>: home - <code>/</code>: raíz - <code>-</code>:
directorio anterior</p>
<hr />
<h2 id="permisos-de-archivos-y-directorios">Permisos de archivos y
directorios</h2>
<p>Los permisos se representan de dos maneras: texto y números.</p>
<h3 id="modo-texto">Modo texto</h3>
<pre class="text"><code>-rwxr-xr--  </code></pre>
<ul>
<li>3 posiciones para el usuario, grupo y otros.</li>
<li><code>r</code>: lectura, <code>w</code>: escritura, <code>x</code>:
ejecución.</li>
</ul>
<h3 id="modo-numérico">Modo numérico</h3>
<p>Suma de valores: - <code>4</code>: lectura - <code>2</code>:
escritura - <code>1</code>: ejecución</p>
<p>Por ejemplo:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 754 archivo</span></code></pre></div>
<p>Equivale a: - Usuario: <code>7</code> (4+2+1) → <code>rwx</code> -
Grupo: <code>5</code> (4+0+1) → <code>r-x</code> - Otros: <code>4</code>
(4+0+0) → <code>r--</code></p>
<hr />
<h2 id="cambiar-permisos-y-propietarios">Cambiar permisos y
propietarios</h2>
<h3 id="cambiar-permisos">Cambiar permisos</h3>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 777 archivo</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> u+x archivo</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> go-wx archivo</span></code></pre></div>
<h3 id="cambiar-propietario">Cambiar propietario</h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chown</span> usuario archivo</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chgrp</span> grupo archivo</span></code></pre></div>
<hr />
<h2 id="ejecutar-programas">Ejecutar programas</h2>
<ul>
<li><p>Si está en <code>$PATH</code>:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">listar.sh</span></span></code></pre></div></li>
<li><p>Si está en el directorio actual:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./listar.sh</span></span></code></pre></div></li>
<li><p>En background:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./listar.sh</span> <span class="kw">&amp;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nohup</span> ./listar.sh <span class="kw">&amp;</span></span></code></pre></div></li>
<li><p>Composición de comandos:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">comando1</span> <span class="kw">|</span> <span class="ex">comando2</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">comando1</span> <span class="kw">&amp;&amp;</span> <span class="ex">comando2</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">comando1</span><span class="kw">;</span> <span class="ex">comando2</span></span></code></pre></div></li>
</ul>
<hr />
<h2 id="redirección-de-entradas-y-salidas">Redirección de entradas y
salidas</h2>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">listar.sh</span> <span class="op">&gt;</span> salida.txt</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">listar.sh</span> <span class="op">&gt;&gt;</span> salida.txt</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="ex">comando</span> <span class="op">&lt;</span> entrada.txt</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="ex">comando</span> <span class="op">&lt;</span> entrada.txt <span class="op">&gt;</span> salida.txt</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="ex">borrar.sh</span> <span class="dv">1</span><span class="op">&gt;</span>log.txt <span class="dv">2</span><span class="op">&gt;</span>error.txt</span></code></pre></div>
<hr />
<h2 id="procesos-y-señales">Procesos y señales</h2>
<p>Ver procesos:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> <span class="at">-f</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> <span class="at">-fu</span> usuario</span></code></pre></div>
<p>Finalizar procesos:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">kill</span> <span class="at">-9</span> PID</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">kill</span> <span class="at">-SIGSTOP</span> PID</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="bu">kill</span> <span class="at">-18</span> PID</span></code></pre></div>
<blockquote>
<p><code>kill</code> no siempre “mata” un proceso. Envía señales como: -
<code>SIGKILL</code> (9): mata inmediatamente - <code>SIGTERM</code>
(15): solicita cierre amigable - <code>SIGSTOP</code> (19): pausa -
<code>SIGCONT</code> (18): continúa</p>
</blockquote>
<hr />
<h2 id="buscar-texto-dentro-de-archivos">Buscar texto dentro de
archivos</h2>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="st">&#39;texto&#39;</span> archivo.txt</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> <span class="at">-f</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-i</span> listado</span></code></pre></div>
<p>Parámetros: - <code>-i</code>: ignora mayúsculas - <code>-v</code>:
niega la condición - <code>-l</code>: muestra nombre de archivos -
<code>-n</code>: muestra número de línea - <code>--color</code>: resalta
coincidencias</p>
<p>Alternativa avanzada: <code>egrep</code></p>
<hr />
<h2 id="recortar-archivos-o-líneas">Recortar archivos o líneas</h2>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span> <span class="at">-20</span> archivo.txt</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-20</span> archivo.txt</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-f</span> archivo.log</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-c1-20</span> archivo.txt</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-d</span><span class="st">&#39;;&#39;</span> <span class="at">-f1-3</span> archivo.txt</span></code></pre></div>
<hr />
<h2 id="guardar-salida-de-comandos-en-variables">Guardar salida de
comandos en variables</h2>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="va">VARIABLE</span><span class="op">=</span><span class="kw">`</span><span class="ex">comando</span><span class="kw">`</span></span></code></pre></div>
<hr />
<h2 id="información-del-sistema">Información del sistema</h2>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span> <span class="at">-h</span>          <span class="co"># Espacio en disco</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">du</span> <span class="at">-sh</span> carpeta <span class="co"># Tamaño de carpeta</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">free</span> <span class="at">-h</span>        <span class="co"># Memoria</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">uptime</span>         <span class="co"># Tiempo encendido y carga</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="ex">top</span>            <span class="co"># Procesos activos</span></span></code></pre></div>
<hr />
<h2 id="otros-útiles">Otros útiles</h2>
<h3 id="alias">Alias</h3>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">alias</span> l=<span class="st">&#39;ls -l&#39;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">alias</span> actualizar=<span class="st">&#39;sudo apt update &amp;&amp; sudo apt upgrade&#39;</span></span></code></pre></div>
<h3 id="ayuda">Ayuda</h3>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">man</span> comando</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">comando</span> <span class="at">--help</span></span></code></pre></div>
<hr />
<hr />
<h2 id="shebang-en-scripts-de-shell">Shebang en scripts de shell</h2>
<p>Al inicio de un script en Linux es común incluir una línea especial
llamada <strong>shebang</strong>, que indica qué intérprete debe usarse
para ejecutar el script.</p>
<p>Ejemplo típico para un script de Bash:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span></code></pre></div>
<p>Esto le indica al sistema operativo que debe usar el intérprete Bash
ubicado en <code>/bin/bash</code> para ejecutar el contenido del
script.</p>
<p>Otros ejemplos:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh         # Shell POSIX</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3  # Usa el intérprete de Python 3 que esté en el entorno</span></span></code></pre></div>
<blockquote>
<p>Si un script no tiene shebang, puede ejecutarse directamente con un
intérprete:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span> script.sh</span></code></pre></div>
</blockquote>
<h2 id="más-información">Más información</h2>
<ul>
<li>Señales: https://es.wikipedia.org/wiki/Señal_(informática)</li>
<li>Regex: https://es.wikipedia.org/wiki/Expresi%C3%B3n_regular</li>
</ul>
